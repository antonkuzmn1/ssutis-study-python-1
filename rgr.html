<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лучшие бомбардиры РПЛ</title>
</head>
<body bgcolor=black text=white>
    <!-- Верхний левый фрейм с картинкой -->
    <div style="float: left;">
        <img src="logo.jpg" alt="Лого РПЛ" width="400" height="250">
    </div>
    <!-- Нижний левый фрейм с гиперссылками на вкладки -->
    <div style="clear: both;">
        <ul>
            <li><a href="#" onclick="openTab('home')">Главная</a></li>
            <li><a href="#" onclick="openTab('about')">Про нас</a></li>
            <li><a href="#" onclick="openTab('queries')">Запросы</a></li>
            <li><a href="#" onclick="openTab('web')">Web</a></li>
        </ul>
    </div>
     <!-- Основной фрейм справа -->
    <div style="margin-left: 550px;">
        <!-- Вкладка Главная -->
        <div id="home" class="tab">
            <h2>Добро пожаловать на Главную страницу!</h2>
            <p>Здесь будет многострочный текст с информацией о сайте.</p>
        </div>
        <!-- Вкладка Про нас -->
        <div id="about" class="tab" style="display: none;">
            <h2>О нас</h2>
            <p>Здесь будет информация о нашей компании или проекте.</p>
        </div>
        <!-- Вкладка Запросы -->
        <div id="queries" class="tab" style="display: none;">
            <h2>Запросы</h2>
            <!-- Добавляем таблицу для отображения данных -->
            <table id="playersTable" border="1">
                <thead>
                    <tr>
                        <th>Место</th>
                        <th>ФИО</th>
                        <th>Клуб</th>
                        <th>Общее количество голов</th>
                        <th>Голов с пенальти</th>
                        <th>Количество матчей</th>
                    </tr>
                </thead>
                <tbody id="playersData">
                    <!-- Здесь будут добавляться строки с данными -->
                </tbody>
            </table>
        </div>
        <!-- Вкладка Web -->
        <div id="web" class="tab" style="display: none;">
            <h2>Web</h2>
            <p>Здесь будут гиперссылки на другие страницы сайта.</p>
            <ul>
                <li><a href="#">Страница 1</a></li>
                <li><a href="#">Страница 2</a></li>
                <li><a href="#">Страница 3</a></li>
                <!-- Дополнительные ссылки -->
            </ul>
        </div>
    </div>

    <script>
        // JavaScript для переключения между вкладками и загрузки данных
        function openTab(tabName) {
            var i;
            var x = document.getElementsByClassName("tab");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            document.getElementById(tabName).style.display = "block";

            // Скрываем предыдущее содержимое из других вкладок
            if (tabName === 'queries') {
                // AJAX-запрос к серверу для получения данных о лучших бомбардирах
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '/get_players', true);
                xhr.onload = function() {
                    if (xhr.status === 200) {
                        var playersData = JSON.parse(xhr.responseText);
                        displayPlayersData(playersData);
                    }
                };
                xhr.send();
            }
        }

        function displayPlayersData(data) {
            var tableBody = document.getElementById('playersData');
            tableBody.innerHTML = ''; // Очищаем содержимое tbody
            for (var i = 0; i < data.length; i++) {
                var player = data[i];
                var row = document.createElement('tr');
                row.innerHTML = '<td>' + player.position + '</td>' +
                                '<td>' + player.full_name + '</td>' +
                                '<td>' + player.club + '</td>' +
                                '<td>' + player.total_goals + '</td>' +
                                '<td>' + player.penalty_goals + '</td>' +
                                '<td>' + player.matches + '</td>';
                tableBody.appendChild(row);
            }
        }

        // По умолчанию открываем вкладку Главная
        openTab('home');
    </script>
</body>
</html>